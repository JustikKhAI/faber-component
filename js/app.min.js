(()=>{"use strict";class e{constructor(e){this.articul=e.ARTICUL,this.name=e.NAME,this.sex=e.SEX,this.color=e.COLOR,this.season=e.SEASON,this.outside=e.OUTSIDE,this.inside=e.INSIDE,this.price=parseFloat(e.PRICE),this.sale=parseFloat(e.SALE),this.img=e.IMG,this.sizes=[1,2,3,4,5,6],this.sexClass=function(){return"жіноче"==this.sex?"sex-women":"комфорт"==this.sex?"sex-comfort":"классік"==this.sex?"sex-classic":""},this.seasonClass=function(){return"літо"==this.season?"season-summer":"весна-осінь"==this.season?"season-spring":"зима"==this.season?"season-winter":"демісезон"==this.season?"season-demi":""},this.sexSizes=function(){let e="";if("жіноче"==this.sex)for(let t=0;t<this.sizes.length;t++)e+=`<p class="size">${this.sizes[t]+35}</p>`;else for(let t=0;t<this.sizes.length;t++)e+=`<p class="size">${this.sizes[t]+39}</p>`;return e}}buildProduct(){let e=document.createElement("div");if(""==this.articul)return e.id="emptyElement",e;e.classList.add("catalog-item",this.sexClass(),this.seasonClass()),e.id=`prod_${this.articul}`;let t=document.createElement("img");t.className="c-item__img",t.src=this.img;let s=document.createElement("p");s.className="c-item__name",s.innerText=this.name;let i=document.createElement("div");i.className="c-item-descr";let n=document.createElement("p");n.className="c-item__color",n.innerHTML=`<span>Колір: </span>${this.color.toLowerCase()}`;let o=document.createElement("p");o.className="c-item__season",o.innerHTML=`<span>Сезон: </span>${this.season.toLowerCase()}`;let c=document.createElement("p");c.className="c-item__outside",c.innerHTML=`<span>Матеріал верху: </span>${this.outside.toLowerCase()}`;let a=document.createElement("p");a.className="c-item__inside",a.innerHTML=`<span>Матеріал в середині: </span>${this.inside.toLowerCase()}`,i.append(n,o,c,a);let r=document.createElement("div");r.className="c-item-spa-block";let l=document.createElement("div");l.className="c-item__size",l.innerHTML=this.sexSizes();let d=document.createElement("div");d.className="c-item-price__block";let m=document.createElement("p");var u,h;m.classList.add("c-item__action",(u=this.price,0!=(h=this.sale)&&h<u?"action-enabled":"action-disabled")),m.innerText=`${this.sale.toLocaleString("ru-RU")} грн`;let p=document.createElement("div");p.className="c-item-price__elem";let g=document.createElement("p");g.classList.add("c-item__price",function(e,t){return 0!=t&&t<e?"price-inactive":"price-active"}(this.price,this.sale)),g.innerText=`${this.price.toLocaleString("ru-RU")} грн`,p.append(g),d.append(m,p);let L=document.createElement("div");L.className="c-item__art";let f=document.createElement("div");return f.className="art__text",f.innerHTML=`<span>Артикул: </span>${this.articul}`,L.appendChild(f),r.append(l,d,L),e.append(t,s,i,r),e}}function t(){var e,t;e=function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")},(t=new Image).onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}function s(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}const i=new class{constructor(){this.products=[]}render(){const e=document.createElement("div");e.className="catalog-container",this.products.forEach((t=>{let s=t.buildProduct();"emptyElement"!=s.id&&e.appendChild(s)})),document.getElementById("catalog").appendChild(e)}generateProducts(t){this.products=t.map((t=>new e(t)));for(let e=0;e<this.products.length;e++)""==this.products[e].articul&&this.products.pop(this.products[e])}};function n(e){const t=e.split("_");Array.from(document.querySelectorAll(".catalog-item")).forEach((e=>{e.classList.add("hide-item"),e.classList.remove("show-item"),(t[1]==t[2]||"all"==t[1]&&e.classList.contains(`season-${t[2]}`)||e.classList.contains(`sex-${t[1]}`)&&"all"==t[2]||e.classList.contains(`sex-${t[1]}`)&&e.classList.contains(`season-${t[2]}`))&&(e.classList.remove("hide-item"),e.classList.add("show-item"))}))}var o,c,a,r;window.addEventListener("load",(()=>{document.getElementById("spinner").style.display="none"})),t(),function(){const e="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,t=document.querySelectorAll(".hoverable");e&&t.forEach((e=>e.classList.remove("hoverable")))}(),function(){let e=document.querySelector(".f-facebook-link"),t=document.querySelector(".f-insta-link");e.addEventListener("mouseover",(function(){s()||document.getElementById("fbqr").classList.add("show-qr")})),e.addEventListener("mouseout",(function(){document.getElementById("fbqr").classList.remove("show-qr")})),t.addEventListener("mouseover",(function(){s()||document.getElementById("instaqr").classList.add("show-qr")})),t.addEventListener("mouseout",(function(){document.getElementById("instaqr").classList.remove("show-qr")}))}(),o=document.querySelector(".header__burger"),c=document.querySelector(".header__menu"),a=document.querySelectorAll(".header__list a"),r=document.body,o.addEventListener("click",(function(e){o.classList.toggle("active"),c.classList.toggle("active"),r.classList.toggle("lock"),c.classList.toggle("lock")})),a.forEach((e=>e.addEventListener("click",(function(e){o.classList.toggle("active"),c.classList.toggle("active"),r.classList.toggle("lock"),c.classList.toggle("lock")})))),function(){const e=document.getElementById("filter_btn"),t=document.querySelector(".sex-container"),s=document.querySelectorAll(".sex-header"),i=document.querySelector(".season-container"),n=document.querySelectorAll(".season-header");function o(){s.forEach((e=>{const t=e.nextElementSibling;t.classList.contains("show-item")&&t.classList.remove("show-item")}))}e.addEventListener("click",(function(e){if("filter_btn"!==e.target.id)return!1;t.classList.toggle("show-item"),o()})),s.forEach((e=>{e.addEventListener("click",(function(e){const t=e.target.nextElementSibling;t.classList.contains("show-item")?o():(o(),t.classList.toggle("show-item"))}))})),n.forEach((e=>{e.addEventListener("click",(function(){i.classList.remove("show-item"),t.classList.remove("show-item")}))})),document.addEventListener("click",(function(e){"filter_btn"==e.target.id||e.target.classList.contains("sex-container")||e.target.classList.contains("season-container")||e.target.classList.contains("sex-header")||e.target.classList.contains("season-header")||(i.classList.remove("show-item"),t.classList.remove("show-item"))}))}();const l=document.querySelector(".sex-container");window.location.href.includes("catalog")?(Papa.parse("../price-var.csv",{download:!0,header:!0,complete:function(e){i.generateProducts(e.data),i.render()}}),setTimeout((function(){const e=window.location.href.split("?")[1];if(void 0===e)return!1;n(e)}),100),l.addEventListener("click",(function(e){if(!e.target.classList.contains("filter-option"))return!1;n(e.target.id)}))):([{selector:".main-foto__img",path:"img/main/main-foto.jpg"},{selector:".g-repare-foto__img",path:"img/guarantee/repare-foto.jpg"},{selector:".g-service-foto__img",path:"img/guarantee/service-foto.jpg"}].forEach((e=>function(e,s){const i=document.querySelector(e),n=function(e){let s,i=e.slice(0,-4),n=t()?".webp":".jpg";return s=window.innerWidth>=1200?i+1200+n:window.innerWidth>=992?i+992+n:window.innerWidth>=768?i+768+n:window.innerWidth>=560?i+560+n:window.innerWidth>=320?i+320+n:i+"-min"+n,s}(s);i.setAttribute("src",n)}(e.selector,e.path))),l.addEventListener("click",(function(e){if(!e.target.classList.contains("filter-option"))return!1;const t=e.target.id;window.location.href="/catalog-page.html?"+t})))})();